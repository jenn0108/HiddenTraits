#On-action combat event: Killed in action
character_event = {
	id = 242
	desc = EVTDESC242	
	picture = GFX_evt_death
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	trigger = {
		NOT = {
			 OR = {
				trait = berserker
				trait = berserker_hidden
			} 
		}
	}

	weight_multiplier = {
		days = 1
		modifier = {
			factor = 1.5
			OR = {
				trait = brave
				trait = brave_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = craven
				trait = craven_hidden
			}
		}
		modifier = {
			OR = {
				trait = clubfooted
				trait = clubfooted_hidden
			}
			factor = 1.25
		}
		modifier = {
			OR = {
				trait = hunchback
				trait = hunchback_hidden
			}
			factor = 1.25
		}
		modifier = {
			OR = {
				trait = lisp
				trait = lisp_hidden
			}
			factor = 1.1
		}
		modifier = {
			OR = {
				trait = stutter
				trait = stutter_hidden
			}
			factor = 1.1
		}
		modifier = {
			OR = {
				trait = dwarf
				trait = dwarf_hidden
			}
			factor = 1.25
		}		
		modifier = {
			OR = {
				trait = genius
				trait = genius_hidden
			}
			factor = 0.9
		}
		modifier = {
			OR = {
				trait = quick
				trait = quick_hidden
			}
			factor = 0.9
		}	
		modifier = {
			OR = {
				trait = slow
				trait = slow_hidden
			}
			factor = 2.0
		}
		
		modifier = {
			OR = {
				trait = imbecile
				trait = imbecile_hidden
			}
			factor = 3.0
		}
		modifier = {
			OR = {
				trait = inbred
				trait = inbred_hidden
			}
			factor = 3.0
		}
		modifier = {
			OR = {
				trait = strong
				trait = strong_hidden
			}
			factor = 0.7
		}
		modifier = {
			OR = {
				trait = weak
				trait = weak_hidden
			}
			factor = 2.5
		}		
		modifier = {
			factor = 1.25
			OR = {
				trait = stressed
				trait = stressed_hidden
			}
		}
		modifier = {
			factor = 1.25
			OR = {
				trait = depressed
				trait = depressed_hidden
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				trait = lunatic
				trait = lunatic_hidden
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				trait = possessed
				trait = possessed_hidden
			}
		}
		modifier = {
			factor = 1.1
			OR = {
				trait = ill
				trait = ill_hidden
			}
		}
		modifier = {
			factor = 1.25
			OR = {
				trait = pneumonic
				trait = pneumonic_hidden
			}
		}
		modifier = {
			factor = 1.25
			OR = {
				trait = syphilitic
				trait = syphilitic_hidden
			}
		}
		modifier = {
			factor = 2.0
			OR = {
				trait = leper
				trait = leper_hidden
			}
		}
		modifier = {
			factor = 1.15
			OR = {
				trait = wounded
				trait = wounded_hidden
			}
		}
		modifier = {
			factor = 1.25
			OR = {
				trait = maimed
				trait = maimed_hidden
			}
		}
		modifier = {
			factor = 2.0
			OR = {
				trait = infirm
				trait = infirm_hidden
			}
		}
		modifier = {
			factor = 3.0
			OR = {
				trait = incapable
				trait = incapable_hidden
			}
		}
		modifier = {
			factor = 1.1
			OR = {
				trait = drunkard
				trait = drunkard_hidden
			}
		}
		modifier = {
			factor = 1.1
			OR = {
				trait = has_tuberculosis
				trait = has_tuberculosis_hidden
			}
		}
		modifier = {
			factor = 1.1
			OR = {
				trait = has_typhoid_fever
				trait = has_typhoid_fever_hidden
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				trait = has_typhus
				trait = has_typhus_hidden
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				trait = has_bubonic_plague
				trait = has_bubonic_plague_hidden
			}
		}
		modifier = {
			factor = 1.1
			OR = {
				trait = has_measles
				trait = has_measles_hidden
			}
		}		
		modifier = {
			factor = 1.1
			OR = {
				trait = has_small_pox
				trait = has_small_pox_hidden
			}
		}		
	}
	
	immediate = {
		death = {
			death_reason = death_battle
			killer = FROMFROM
		}
		FROMFROM = {
			character_event = { id = 249 }
			set_character_flag = temp_battle_kill_242
		}
		FROM = {
			if = {
				limit = { NOT = { has_character_flag = temp_battle_kill_242 } }
				character_event = { id = 249 }
			}
		}
		FROMFROM = {
			clr_character_flag = temp_battle_kill_242
		}
	}
	
	option = {
		name = ALAS
	}	
}

#On-action combat event: Wounded in action
character_event = {
	id = 243
	desc = EVTDESC243
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes

	trigger = {
		NOT = {
			 OR = {
				trait = wounded
				trait = wounded_hidden
			} 
		}
		NOT = {
			 OR = {
				trait = maimed
				trait = maimed_hidden
			} 
		}
		NOT = {
			 OR = {
				trait = berserker
				trait = berserker_hidden
			} 
		}
		is_alive = yes
	}
	
	weight_multiplier = {
		days = 1
		
		modifier = {
			factor = 5
			has_character_modifier = proving_bravery
		}
		modifier = {
			factor = 1.5
			OR = {
				trait = brave
				trait = brave_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = craven
				trait = craven_hidden
			}
		}
		modifier = {
			OR = {
				trait = clubfooted
				trait = clubfooted_hidden
			}
			factor = 1.25
		}
		modifier = {
			OR = {
				trait = hunchback
				trait = hunchback_hidden
			}
			factor = 1.25
		}
		modifier = {
			OR = {
				trait = lisp
				trait = lisp_hidden
			}
			factor = 1.1
		}
		modifier = {
			OR = {
				trait = stutter
				trait = stutter_hidden
			}
			factor = 1.1
		}
		modifier = {
			OR = {
				trait = dwarf
				trait = dwarf_hidden
			}
			factor = 1.25
		}		
		modifier = {
			OR = {
				trait = genius
				trait = genius_hidden
			}
			factor = 0.9
		}
		modifier = {
			OR = {
				trait = quick
				trait = quick_hidden
			}
			factor = 0.9
		}	
		modifier = {
			OR = {
				trait = slow
				trait = slow_hidden
			}
			factor = 2.0
		}
		
		modifier = {
			OR = {
				trait = imbecile
				trait = imbecile_hidden
			}
			factor = 3.0
		}
		modifier = {
			OR = {
				trait = inbred
				trait = inbred_hidden
			}
			factor = 3.0
		}
		modifier = {
			OR = {
				trait = strong
				trait = strong_hidden
			}
			factor = 0.7
		}
		modifier = {
			OR = {
				trait = weak
				trait = weak_hidden
			}
			factor = 2.5
		}		
		
		modifier = {
			factor = 1.25
			OR = {
				trait = stressed
				trait = stressed_hidden
			}
		}
		modifier = {
			factor = 1.25
			OR = {
				trait = depressed
				trait = depressed_hidden
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				trait = lunatic
				trait = lunatic_hidden
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				trait = possessed
				trait = possessed_hidden
			}
		}
		modifier = {
			factor = 1.1
			OR = {
				trait = ill
				trait = ill_hidden
			}
		}
		modifier = {
			factor = 1.25
			OR = {
				trait = pneumonic
				trait = pneumonic_hidden
			}
		}
		modifier = {
			factor = 1.25
			OR = {
				trait = syphilitic
				trait = syphilitic_hidden
			}
		}
		modifier = {
			factor = 2.0
			OR = {
				trait = leper
				trait = leper_hidden
			}
		}
		modifier = {
			factor = 1.25
			OR = {
				trait = maimed
				trait = maimed_hidden
			}
		}
		modifier = {
			factor = 2.0
			OR = {
				trait = infirm
				trait = infirm_hidden
			}
		}
		modifier = {
			factor = 3.0
			OR = {
				trait = incapable
				trait = incapable_hidden
			}
		}
		modifier = {
			factor = 1.1
			OR = {
				trait = drunkard
				trait = drunkard_hidden
			}
		}
		modifier = {
			factor = 1.1
			OR = {
				trait = has_tuberculosis
				trait = has_tuberculosis_hidden
			}
		}
		modifier = {
			factor = 1.1
			OR = {
				trait = has_typhoid_fever
				trait = has_typhoid_fever_hidden
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				trait = has_typhus
				trait = has_typhus_hidden
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				trait = has_bubonic_plague
				trait = has_bubonic_plague_hidden
			}
		}
		modifier = {
			factor = 1.1
			OR = {
				trait = has_measles
				trait = has_measles_hidden
			}
		}		
		modifier = {
			factor = 1.1
			OR = {
				trait = has_small_pox
				trait = has_small_pox_hidden
			}
		}		
		
	}
	
	option = {
		name = CURSES
		if = {
			limit = {
				ai = yes
			}
			hidden_tooltip = {
				add_trait = wounded_hidden
			}
		}
		if = {
			limit = {
				ai = no
			}
			add_trait = wounded
		}
	}
}

#On-action combat event: Maimed in action
character_event = {
	id = 244
	desc = EVTDESC244
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_war

	is_triggered_only = yes
	
	
	trigger = {
		NOT = {
			 OR = {
				trait = maimed
				trait = maimed_hidden
			} 
		}
		NOT = {
			 OR = {
				trait = berserker
				trait = berserker_hidden
			} 
		}
		is_alive = yes
	}
	
	weight_multiplier = {
		days = 1
		
		modifier = {
			factor = 5
			has_character_modifier = proving_bravery
		}
		modifier = {
			factor = 1.5
			OR = {
				trait = brave
				trait = brave_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = craven
				trait = craven_hidden
			}
		}
		modifier = {
			OR = {
				trait = clubfooted
				trait = clubfooted_hidden
			}
			factor = 1.25
		}
		modifier = {
			OR = {
				trait = hunchback
				trait = hunchback_hidden
			}
			factor = 1.25
		}
		modifier = {
			OR = {
				trait = lisp
				trait = lisp_hidden
			}
			factor = 1.1
		}
		modifier = {
			OR = {
				trait = stutter
				trait = stutter_hidden
			}
			factor = 1.1
		}
		modifier = {
			OR = {
				trait = dwarf
				trait = dwarf_hidden
			}
			factor = 1.25
		}		
		modifier = {
			OR = {
				trait = genius
				trait = genius_hidden
			}
			factor = 0.9
		}
		modifier = {
			OR = {
				trait = quick
				trait = quick_hidden
			}
			factor = 0.9
		}	
		modifier = {
			OR = {
				trait = slow
				trait = slow_hidden
			}
			factor = 2.0
		}
		
		modifier = {
			OR = {
				trait = imbecile
				trait = imbecile_hidden
			}
			factor = 3.0
		}
		modifier = {
			OR = {
				trait = inbred
				trait = inbred_hidden
			}
			factor = 3.0
		}
		modifier = {
			OR = {
				trait = strong
				trait = strong_hidden
			}
			factor = 0.7
		}
		modifier = {
			OR = {
				trait = weak
				trait = weak_hidden
			}
			factor = 2.5
		}		

		modifier = {
			factor = 1.25
			OR = {
				trait = stressed
				trait = stressed_hidden
			}
		}
		modifier = {
			factor = 1.25
			OR = {
				trait = depressed
				trait = depressed_hidden
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				trait = lunatic
				trait = lunatic_hidden
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				trait = possessed
				trait = possessed_hidden
			}
		}
		modifier = {
			factor = 1.1
			OR = {
				trait = ill
				trait = ill_hidden
			}
		}
		modifier = {
			factor = 1.25
			OR = {
				trait = pneumonic
				trait = pneumonic_hidden
			}
		}
		modifier = {
			factor = 1.25
			OR = {
				trait = syphilitic
				trait = syphilitic_hidden
			}
		}
		modifier = {
			factor = 2.0
			OR = {
				trait = leper
				trait = leper_hidden
			}
		}
		modifier = {
			factor = 1.15
			OR = {
				trait = wounded
				trait = wounded_hidden
			}
		}
		modifier = {
			factor = 2.0
			OR = {
				trait = infirm
				trait = infirm_hidden
			}
		}
		modifier = {
			factor = 3.0
			OR = {
				trait = incapable
				trait = incapable_hidden
			}
		}
		modifier = {
			factor = 1.1
			OR = {
				trait = drunkard
				trait = drunkard_hidden
			}
		}
		modifier = {
			factor = 1.1
			OR = {
				trait = has_tuberculosis
				trait = has_tuberculosis_hidden
			}
		}
		modifier = {
			factor = 1.1
			OR = {
				trait = has_typhoid_fever
				trait = has_typhoid_fever_hidden
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				trait = has_typhus
				trait = has_typhus_hidden
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				trait = has_bubonic_plague
				trait = has_bubonic_plague_hidden
			}
		}
		modifier = {
			factor = 1.1
			OR = {
				trait = has_measles
				trait = has_measles_hidden
			}
		}		
		modifier = {
			factor = 1.1
			OR = {
				trait = has_small_pox
				trait = has_small_pox_hidden
			}
		}		

	}
	
	option = {
		name = CURSES
		if = {
			limit = {
				ai = yes
			}
			hidden_tooltip = {
				add_trait = maimed_hidden
			}
		}
		if = {
			limit = {
				ai = no
			}
			add_trait = maimed
		}
	}
}

#On-action combat event: Serious head injury in action
character_event = {
	id = 245
	desc = EVTDESC245
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_war

	is_triggered_only = yes
	
	
	trigger = {
		NOT = {
			 OR = {
				trait = incapable
				trait = incapable_hidden
			} 
		}
		is_alive = yes
	}
	
	weight_multiplier = {
		days = 1
		
		modifier = {
			factor = 5
			has_character_modifier = proving_bravery
		}
		modifier = {
			factor = 1.5
			OR = {
				trait = brave
				trait = brave_hidden
			}
		}
		modifier = {
			factor = 0.5
		
			OR = {
				trait = craven
				trait = craven_hidden
			}
		}
		modifier = {
			OR = {
				trait = clubfooted
				trait = clubfooted_hidden
			}
			factor = 1.25
		}
		modifier = {
			OR = {
				trait = hunchback
				trait = hunchback_hidden
			}
			factor = 1.25
		}
		modifier = {
			OR = {
				trait = lisp
				trait = lisp_hidden
			}
			factor = 1.1
		}
		modifier = {
			OR = {
				trait = stutter
				trait = stutter_hidden
			}
			factor = 1.1
		}
		modifier = {
			OR = {
				trait = dwarf
				trait = dwarf_hidden
			}
			factor = 1.25
		}		
		modifier = {
			OR = {
				trait = genius
				trait = genius_hidden
			}
			factor = 0.9
		}
		modifier = {
			OR = {
				trait = quick
				trait = quick_hidden
			}
			factor = 0.9
		}	
		modifier = {
			OR = {
				trait = slow
				trait = slow_hidden
			}
			factor = 2.0
		}
		
		modifier = {
			OR = {
				trait = imbecile
				trait = imbecile_hidden
			}
			factor = 3.0
		}
		modifier = {
			OR = {
				trait = inbred
				trait = inbred_hidden
			}
			factor = 3.0
		}
		modifier = {
			OR = {
				trait = strong
				trait = strong_hidden
			}
			factor = 0.7
		}
		modifier = {
			OR = {
				trait = weak
				trait = weak_hidden
			}
			factor = 2.5
		}		
				modifier = {
			factor = 1.25
			OR = {
				trait = stressed
				trait = stressed_hidden
			}
		}
		modifier = {
			factor = 1.25
			OR = {
				trait = depressed
				trait = depressed_hidden
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				trait = lunatic
				trait = lunatic_hidden
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				trait = possessed
				trait = possessed_hidden
			}
		}
		modifier = {
			factor = 1.1
			OR = {
				trait = ill
				trait = ill_hidden
			}
		}
		modifier = {
			factor = 1.25
			OR = {
				trait = pneumonic
				trait = pneumonic_hidden
			}
		}
		modifier = {
			factor = 1.25
			OR = {
				trait = syphilitic
				trait = syphilitic_hidden
			}
		}
		modifier = {
			factor = 2.0
			OR = {
				trait = leper
				trait = leper_hidden
			}
		}
		modifier = {
			factor = 1.15
			OR = {
				trait = wounded
				trait = wounded_hidden
			}
		}
		modifier = {
			factor = 1.25
			OR = {
				trait = maimed
				trait = maimed_hidden
			}
		}
		modifier = {
			factor = 2.0
			OR = {
				trait = infirm
				trait = infirm_hidden
			}
		}
		modifier = {
			factor = 1.1
			OR = {
				trait = drunkard
				trait = drunkard_hidden
			}
		}
		modifier = {
			factor = 1.1
			OR = {
				trait = has_tuberculosis
				trait = has_tuberculosis_hidden
			}
		}
		modifier = {
			factor = 1.1
			OR = {
				trait = has_typhoid_fever
				trait = has_typhoid_fever_hidden
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				trait = has_typhus
				trait = has_typhus_hidden
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				trait = has_bubonic_plague
				trait = has_bubonic_plague_hidden
			}
		}
		modifier = {
			factor = 1.1
			OR = {
				trait = has_measles
				trait = has_measles_hidden
			}
		}		
		modifier = {
			factor = 1.1
			OR = {
				trait = has_small_pox
				trait = has_small_pox_hidden
			}
		}		

	}

	option = {
		name = CURSES
		if = {
			limit = {
				ai = yes
			}
			hidden_tooltip = {
				add_trait = incapable_hidden
			}
		}
		if = {
			limit = {
				ai = no
			}
			add_trait = incapable
		}
	}
}

#On-action combat event: Character skill improves
character_event = {
	id = 246
	desc = EVTDESC246
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes

	
	trigger = {
		is_alive = yes
		OR = {
			OR = {
				trait = misguided_warrior
				trait = misguided_warrior_hidden
			}
			OR = {
				trait = tough_soldier
				trait = tough_soldier_hidden
			}
			OR = {
				trait = skilled_tactician
				trait = skilled_tactician_hidden
			}
		}
	}
	
	weight_multiplier = {
		days = 1
		modifier = {
			factor = 1.5
			OR = {
				trait = brave
				trait = brave_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = craven
				trait = craven_hidden
			}
		}
		modifier = {
			OR = {
				trait = genius
				trait = genius_hidden
			}
			factor = 1.2
		}
		modifier = {
			OR = {
				trait = quick
				trait = quick_hidden
			}
			factor = 1.1
		}	
		modifier = {
			OR = {
				trait = slow
				trait = slow_hidden
			}
			factor = 0.9
		}
		
		modifier = {
			OR = {
				trait = imbecile
				trait = imbecile_hidden
			}
			factor = 0.2
		}
		modifier = {
			OR = {
				trait = inbred
				trait = inbred_hidden
			}
			factor = 0.2
		}
		modifier = {
			OR = {
				trait = strong
				trait = strong_hidden
			}
			factor = 1.5
		}
		modifier = {
			OR = {
				trait = weak
				trait = weak_hidden
			}
			factor = 0.8
		}	
		modifier = {
			factor = 0.8
			OR = {
				trait = stressed
				trait = stressed_hidden
			}
		}
		modifier = {
			factor = 0.8
			OR = {
				trait = depressed
				trait = depressed_hidden
			}
		}
		modifier = {
			factor = 0.75
			OR = {
				trait = lunatic
				trait = lunatic_hidden
			}
		}
		modifier = {
			factor = 0.75
			OR = {
				trait = possessed
				trait = possessed_hidden
			}
		}
		modifier = {
			factor = 0.9
			OR = {
				trait = ill
				trait = ill_hidden
			}
		}
		modifier = {
			factor = 0.8
			OR = {
				trait = pneumonic
				trait = pneumonic_hidden
			}
		}
		modifier = {
			factor = 0.8
			OR = {
				trait = syphilitic
				trait = syphilitic_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = leper
				trait = leper_hidden
			}
		}
		modifier = {
			factor = 0.9
			OR = {
				trait = wounded
				trait = wounded_hidden
			}
		}
		modifier = {
			factor = 0.8
			OR = {
				trait = maimed
				trait = maimed_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = infirm
				trait = infirm_hidden
			}
		}
		modifier = {
			factor = 0.4
			OR = {
				trait = incapable
				trait = incapable_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = drunkard
				trait = drunkard_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = has_tuberculosis
				trait = has_tuberculosis_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = has_typhoid_fever
				trait = has_typhoid_fever_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = has_typhus
				trait = has_typhus_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = has_bubonic_plague
				trait = has_bubonic_plague_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = has_measles
				trait = has_measles_hidden
			}
		}		
		modifier = {
			factor = 0.5
			OR = {
				trait = has_small_pox
				trait = has_small_pox_hidden
			}
		}
		
	}

	option = {
		name = EXCELLENT
		if = {
			limit = {
				OR = {
					trait = skilled_tactician
					trait = skilled_tactician_hidden
				}
			}
			remove_trait = skilled_tactician
			remove_trait = skilled_tactician_hidden
			if = {
				limit = {
					ai = yes
				}
				hidden_tooltip = {
					add_trait = brilliant_strategist_hidden
				}
			}
			if = {
				limit = {
					ai = no
				}
				add_trait = brilliant_strategist
			}
		}
		if = {
			limit = {
				OR = {
					trait = tough_soldier
					trait = tough_soldier_hidden
				}
			}
			remove_trait = tough_soldier
			remove_trait = tough_soldier_hidden
			if = {
				limit = {
					ai = yes
				}
				hidden_tooltip = {
					add_trait = skilled_tactician_hidden
				}
			}
			if = {
				limit = {
					ai = no
				}
				add_trait = skilled_tactician
			}
		}
		if = {
			limit = {
				OR = {
					trait = misguided_warrior
					trait = misguided_warrior_hidden
				}
			}
			remove_trait = misguided_warrior
			remove_trait = misguided_warrior_hidden
			if = {
				limit = {
					ai = yes
				}
				hidden_tooltip = {
					add_trait = tough_soldier_hidden
				}
			}
			if = {
				limit = {
					ai = no
				}
				add_trait = tough_soldier
			}
		}
	}
}

#On-action combat event: Flat improvement to martial skill
character_event = {
	id = 247
	desc = EVTDESC247
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes

	trigger = {
		is_alive = yes
		NOT = { martial = 10 }
	}
	
	weight_multiplier = {
		days = 1
		modifier = {
			factor = 1.5
			OR = {
				trait = brave
				trait = brave_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = craven
				trait = craven_hidden
			}
		}
		modifier = {
			OR = {
				trait = genius
				trait = genius_hidden
			}
			factor = 1.2
		}
		modifier = {
			OR = {
				trait = quick
				trait = quick_hidden
			}
			factor = 1.1
		}	
		modifier = {
			OR = {
				trait = slow
				trait = slow_hidden
			}
			factor = 0.9
		}
		
		modifier = {
			OR = {
				trait = imbecile
				trait = imbecile_hidden
			}
			factor = 0.2
		}
		modifier = {
			OR = {
				trait = inbred
				trait = inbred_hidden
			}
			factor = 0.2
		}
		modifier = {
			OR = {
				trait = strong
				trait = strong_hidden
			}
			factor = 1.5
		}
		modifier = {
			OR = {
				trait = weak
				trait = weak_hidden
			}
			factor = 0.8
		}			
		modifier = {
			factor = 0.8
			OR = {
				trait = stressed
				trait = stressed_hidden
			}
		}
		modifier = {
			factor = 0.8
			OR = {
				trait = depressed
				trait = depressed_hidden
			}
		}
		modifier = {
			factor = 0.75
			OR = {
				trait = lunatic
				trait = lunatic_hidden
			}
		}
		modifier = {
			factor = 0.75
			OR = {
				trait = possessed
				trait = possessed_hidden
			}
		}
		modifier = {
			factor = 0.9
			OR = {
				trait = ill
				trait = ill_hidden
			}
		}
		modifier = {
			factor = 0.8
			OR = {
				trait = pneumonic
				trait = pneumonic_hidden
			}
		}
		modifier = {
			factor = 0.8
			OR = {
				trait = syphilitic
				trait = syphilitic_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = leper
				trait = leper_hidden
			}
		}
		modifier = {
			factor = 0.9
			OR = {
				trait = wounded
				trait = wounded_hidden
			}
		}
		modifier = {
			factor = 0.8
			OR = {
				trait = maimed
				trait = maimed_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = infirm
				trait = infirm_hidden
			}
		}
		modifier = {
			factor = 0.4
			OR = {
				trait = incapable
				trait = incapable_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = drunkard
				trait = drunkard_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = has_tuberculosis
				trait = has_tuberculosis_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = has_typhoid_fever
				trait = has_typhoid_fever_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = has_typhus
				trait = has_typhus_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = has_bubonic_plague
				trait = has_bubonic_plague_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = has_measles
				trait = has_measles_hidden
			}
		}		
		modifier = {
			factor = 0.5
			OR = {
				trait = has_small_pox
				trait = has_small_pox_hidden
			}
		}
	}

	option = {
		name = EXCELLENT
		change_martial = 1
	}
}

#On-action combat event: Tech Increase in Capital
character_event = {
	id = 248
	desc = EVTDESC248
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes

	trigger = {
		is_alive = yes
		is_landed = yes
		OR = {
			OR = {
				trait = brilliant_strategist
				trait = brilliant_strategist_hidden
			}
			OR = {
				trait = skilled_tactician
				trait = skilled_tactician_hidden
			}
		}
	}
	
	weight_multiplier = {
		days = 1
		modifier = {
			factor = 1.5
			OR = {
				trait = brave
				trait = brave_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = craven
				trait = craven_hidden
			}
		}
		modifier = {
			OR = {
				trait = genius
				trait = genius_hidden
			}
			factor = 3.0
		}
		modifier = {
			OR = {
				trait = quick
				trait = quick_hidden
			}
			factor = 2.0
		}	
		modifier = {
			OR = {
				trait = slow
				trait = slow_hidden
			}
			factor = 0.1
		}

		modifier = {
			OR = {
				trait = imbecile
				trait = imbecile_hidden
			}
			factor = 0
		}
		modifier = {
			OR = {
				trait = inbred
				trait = inbred_hidden
			}
			factor = 0.2
		}
		modifier = {
			factor = 0.8
			OR = {
				trait = stressed
				trait = stressed_hidden
			}
		}
		modifier = {
			factor = 0.8
			OR = {
				trait = depressed
				trait = depressed_hidden
			}
		}
		modifier = {
			factor = 0.75
			OR = {
				trait = lunatic
				trait = lunatic_hidden
			}
		}
		modifier = {
			factor = 0.75
			OR = {
				trait = possessed
				trait = possessed_hidden
			}
		}
		modifier = {
			factor = 0.9
			OR = {
				trait = ill
				trait = ill_hidden
			}
		}
		modifier = {
			factor = 0.8
			OR = {
				trait = pneumonic
				trait = pneumonic_hidden
			}
		}
		modifier = {
			factor = 0.8
			OR = {
				trait = syphilitic
				trait = syphilitic_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = leper
				trait = leper_hidden
			}
		}
		modifier = {
			factor = 0.9
			OR = {
				trait = wounded
				trait = wounded_hidden
			}
		}
		modifier = {
			factor = 0.8
			OR = {
				trait = maimed
				trait = maimed_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = infirm
				trait = infirm_hidden
			}
		}
		modifier = {
			factor = 0.4
			OR = {
				trait = incapable
				trait = incapable_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = drunkard
				trait = drunkard_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = has_tuberculosis
				trait = has_tuberculosis_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = has_typhoid_fever
				trait = has_typhoid_fever_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = has_typhus
				trait = has_typhus_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = has_bubonic_plague
				trait = has_bubonic_plague_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = has_measles
				trait = has_measles_hidden
			}
		}		
		modifier = {
			factor = 0.5
			OR = {
				trait = has_small_pox
				trait = has_small_pox_hidden
			}
		}
	}

	option = {
		name = EXCELLENT
		capital_scope = {
			add_province_modifier = {
				name = war_knowledge
				duration = 365
			}
		}		
	}
}

#Opponent is informed that enemy commander has been killed
character_event = {
	id = 249
	desc = EVTDESC249
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes

	trigger = {
		is_alive = yes
	}

	option = {
		name = EVTOPTA249
	}
}

#On-action combat event: Becoming Brave
character_event = {
	id = 270
	desc = EVTDESC270
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes

	trigger = {
		is_alive = yes
		NOT = {
			 OR = {
				trait = brave
				trait = brave_hidden
			} 
		}
		NOT = {
			 OR = {
				trait = craven
				trait = craven_hidden
			} 
		}
	}
	
	weight_multiplier = {
		days = 1
		
		modifier = {
			factor = 5
			has_character_modifier = proving_bravery
		}
		modifier = {
			OR = {
				trait = genius
				trait = genius_hidden
			}
			factor = 1.2
		}
		modifier = {
			OR = {
				trait = quick
				trait = quick_hidden
			}
			factor = 1.1
		}	
		modifier = {
			OR = {
				trait = slow
				trait = slow_hidden
			}
			factor = 0.9
		}
		
		modifier = {
			OR = {
				trait = imbecile
				trait = imbecile_hidden
			}
			factor = 0.2
		}
		modifier = {
			OR = {
				trait = inbred
				trait = inbred_hidden
			}
			factor = 0.2
		}
		modifier = {
			OR = {
				trait = strong
				trait = strong_hidden
			}
			factor = 1.5
		}
		modifier = {
			OR = {
				trait = weak
				trait = weak_hidden
			}
			factor = 0.8
		}		
				modifier = {
			factor = 0.8
			OR = {
				trait = stressed
				trait = stressed_hidden
			}
		}
		modifier = {
			factor = 0.8
			OR = {
				trait = depressed
				trait = depressed_hidden
			}
		}
		modifier = {
			factor = 0.75
			OR = {
				trait = lunatic
				trait = lunatic_hidden
			}
		}
		modifier = {
			factor = 0.75
			OR = {
				trait = possessed
				trait = possessed_hidden
			}
		}
		modifier = {
			factor = 0.9
			OR = {
				trait = ill
				trait = ill_hidden
			}
		}
		modifier = {
			factor = 0.8
			OR = {
				trait = pneumonic
				trait = pneumonic_hidden
			}
		}
		modifier = {
			factor = 0.8
			OR = {
				trait = syphilitic
				trait = syphilitic_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = leper
				trait = leper_hidden
			}
		}
		modifier = {
			factor = 0.9
			OR = {
				trait = wounded
				trait = wounded_hidden
			}
		}
		modifier = {
			factor = 0.8
			OR = {
				trait = maimed
				trait = maimed_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = infirm
				trait = infirm_hidden
			}
		}
		modifier = {
			factor = 0.4
			OR = {
				trait = incapable
				trait = incapable_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = drunkard
				trait = drunkard_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = has_tuberculosis
				trait = has_tuberculosis_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = has_typhoid_fever
				trait = has_typhoid_fever_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = has_typhus
				trait = has_typhus_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = has_bubonic_plague
				trait = has_bubonic_plague_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = has_measles
				trait = has_measles_hidden
			}
		}		
		modifier = {
			factor = 0.5
			OR = {
				trait = has_small_pox
				trait = has_small_pox_hidden
			}
		}

	}

	option = {
		name = EXCELLENT
		if = {
			limit = {
				ai = yes
			}
			hidden_tooltip = {
				add_trait = brave_hidden
			}
		}
		if = {
			limit = {
				ai = no
			}
			add_trait = brave
		}
	}
}

#On-action combat event: Becoming Craven
character_event = {
	id = 271
	desc = EVTDESC271
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes

	trigger = {
		is_alive = yes
		NOT = {
			 OR = {
				trait = brave
				trait = brave_hidden
			} 
		}
		NOT = {
			 OR = {
				trait = craven
				trait = craven_hidden
			} 
		}
	}
	
	weight_multiplier = {
		days = 1
		modifier = {
			OR = {
				trait = clubfooted
				trait = clubfooted_hidden
			}
			factor = 1.25
		}
		modifier = {
			OR = {
				trait = hunchback
				trait = hunchback_hidden
			}
			factor = 1.25
		}
		modifier = {
			OR = {
				trait = lisp
				trait = lisp_hidden
			}
			factor = 1.1
		}
		modifier = {
			OR = {
				trait = stutter
				trait = stutter_hidden
			}
			factor = 1.1
		}
		modifier = {
			OR = {
				trait = dwarf
				trait = dwarf_hidden
			}
			factor = 1.25
		}		
		modifier = {
			OR = {
				trait = genius
				trait = genius_hidden
			}
			factor = 0.9
		}
		modifier = {
			OR = {
				trait = quick
				trait = quick_hidden
			}
			factor = 0.9
		}	
		modifier = {
			OR = {
				trait = slow
				trait = slow_hidden
			}
			factor = 2.0
		}
		
		modifier = {
			OR = {
				trait = imbecile
				trait = imbecile_hidden
			}
			factor = 3.0
		}
		modifier = {
			OR = {
				trait = inbred
				trait = inbred_hidden
			}
			factor = 3.0
		}
		modifier = {
			OR = {
				trait = strong
				trait = strong_hidden
			}
			factor = 0.7
		}
		modifier = {
			OR = {
				trait = weak
				trait = weak_hidden
			}
			factor = 2.5
		}		
		modifier = {
			factor = 1.25
			OR = {
				trait = stressed
				trait = stressed_hidden
			}
		}
		modifier = {
			factor = 1.25
			OR = {
				trait = depressed
				trait = depressed_hidden
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				trait = lunatic
				trait = lunatic_hidden
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				trait = possessed
				trait = possessed_hidden
			}
		}
		modifier = {
			factor = 1.1
			OR = {
				trait = ill
				trait = ill_hidden
			}
		}
		modifier = {
			factor = 1.25
			OR = {
				trait = pneumonic
				trait = pneumonic_hidden
			}
		}
		modifier = {
			factor = 1.25
			OR = {
				trait = syphilitic
				trait = syphilitic_hidden
			}
		}
		modifier = {
			factor = 2.0
			OR = {
				trait = leper
				trait = leper_hidden
			}
		}
		modifier = {
			factor = 1.15
			OR = {
				trait = wounded
				trait = wounded_hidden
			}
		}
		modifier = {
			factor = 1.25
			OR = {
				trait = maimed
				trait = maimed_hidden
			}
		}
		modifier = {
			factor = 2.0
			OR = {
				trait = infirm
				trait = infirm_hidden
			}
		}
		modifier = {
			factor = 3.0
			OR = {
				trait = incapable
				trait = incapable_hidden
			}
		}
		modifier = {
			factor = 1.1
			OR = {
				trait = drunkard
				trait = drunkard_hidden
			}
		}
		modifier = {
			factor = 1.1
			OR = {
				trait = has_tuberculosis
				trait = has_tuberculosis_hidden
			}
		}
		modifier = {
			factor = 1.1
			OR = {
				trait = has_typhoid_fever
				trait = has_typhoid_fever_hidden
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				trait = has_typhus
				trait = has_typhus_hidden
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				trait = has_bubonic_plague
				trait = has_bubonic_plague_hidden
			}
		}
		modifier = {
			factor = 1.1
			OR = {
				trait = has_measles
				trait = has_measles_hidden
			}
		}		
		modifier = {
			factor = 1.1
			OR = {
				trait = has_small_pox
				trait = has_small_pox_hidden
			}
		}		
	}

	option = {
		name = CURSES
		if = {
			limit = {
				ai = yes
			}
			hidden_tooltip = {
				add_trait = craven_hidden
			}
		}
		if = {
			limit = {
				ai = no
			}
			add_trait = craven
		}
	}
}

#On-action combat event: Becoming Wroth
character_event = {
	id = 272
	desc = EVTDESC272
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes

	trigger = {
		is_alive = yes
		NOT = {
			 OR = {
				trait = wroth
				trait = wroth_hidden
			} 
		}
		NOT = {
			 OR = {
				trait = patient
				trait = patient_hidden
			} 
		}
	}
	
	weight_multiplier = {
		days = 1
	}

	option = {
		name = CURSES
		if = {
			limit = {
				ai = yes
			}
			hidden_tooltip = {
				add_trait = wroth_hidden
			}
		}
		if = {
			limit = {
				ai = no
			}
			add_trait = wroth
		}
	}
}

#On-action combat event: Becoming Patient
character_event = {
	id = 273
	desc = EVTDESC273
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_war

	is_triggered_only = yes
	
	trigger = {
		is_alive = yes
		NOT = {
			 OR = {
				trait = wroth
				trait = wroth_hidden
			} 
		}
		NOT = {
			 OR = {
				trait = patient
				trait = patient_hidden
			} 
		}
	}
	
	weight_multiplier = {
		days = 1
	}

	option = {
		name = EXCELLENT
		if = {
			limit = {
				ai = yes
			}
			hidden_tooltip = {
				add_trait = patient_hidden
			}
		}
		if = {
			limit = {
				ai = no
			}
			add_trait = patient
		}
	}
}

#On-action battle_won: Heroism shown.
character_event = {
	id = 260
	hide_window = yes
	
	is_triggered_only = yes

	trigger = {
		is_alive = yes
	}
	
	weight_multiplier = {
		days = 1
		modifier = {
			factor = 1.5
			OR = {
				trait = brave
				trait = brave_hidden
			}
		}		
		modifier = {
			factor = 1.5
			martial = 10
		}		

		modifier = {
			OR = {
				trait = genius
				trait = genius_hidden
			}
			factor = 1.2
		}
		modifier = {
			OR = {
				trait = quick
				trait = quick_hidden
			}
			factor = 1.1
		}	
		modifier = {
			OR = {
				trait = slow
				trait = slow_hidden
			}
			factor = 0.9
		}
		
		modifier = {
			OR = {
				trait = imbecile
				trait = imbecile_hidden
			}
			factor = 0.2
		}
		modifier = {
			OR = {
				trait = inbred
				trait = inbred_hidden
			}
			factor = 0.2
		}
		modifier = {
			OR = {
				trait = strong
				trait = strong_hidden
			}
			factor = 1.5
		}
		modifier = {
			OR = {
				trait = weak
				trait = weak_hidden
			}
			factor = 0.8
		}	
				modifier = {
			factor = 0.8
			OR = {
				trait = stressed
				trait = stressed_hidden
			}
		}
		modifier = {
			factor = 0.8
			OR = {
				trait = depressed
				trait = depressed_hidden
			}
		}
		modifier = {
			factor = 0.75
			OR = {
				trait = lunatic
				trait = lunatic_hidden
			}
		}
		modifier = {
			factor = 0.75
			OR = {
				trait = possessed
				trait = possessed_hidden
			}
		}
		modifier = {
			factor = 0.9
			OR = {
				trait = ill
				trait = ill_hidden
			}
		}
		modifier = {
			factor = 0.8
			OR = {
				trait = pneumonic
				trait = pneumonic_hidden
			}
		}
		modifier = {
			factor = 0.8
			OR = {
				trait = syphilitic
				trait = syphilitic_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = leper
				trait = leper_hidden
			}
		}
		modifier = {
			factor = 0.9
			OR = {
				trait = wounded
				trait = wounded_hidden
			}
		}
		modifier = {
			factor = 0.8
			OR = {
				trait = maimed
				trait = maimed_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = infirm
				trait = infirm_hidden
			}
		}
		modifier = {
			factor = 0.4
			OR = {
				trait = incapable
				trait = incapable_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = drunkard
				trait = drunkard_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = has_tuberculosis
				trait = has_tuberculosis_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = has_typhoid_fever
				trait = has_typhoid_fever_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = has_typhus
				trait = has_typhus_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = has_bubonic_plague
				trait = has_bubonic_plague_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = has_measles
				trait = has_measles_hidden
			}
		}		
		modifier = {
			factor = 0.5
			OR = {
				trait = has_small_pox
				trait = has_small_pox_hidden
			}
		}

	}
	
	immediate = {
		random_list = {
			16 = { character_event = { id = 262 } }
			16 = { character_event = { id = 263 } }
			16 = { character_event = { id = 264 } }
			16 = { character_event = { id = 265 } }
			16 = { character_event = { id = 266 } }
			16 = { character_event = { id = 267 } }
		}
	}

	option = {
		name = OK
	}
}


#On-action battle_won: Soldier Distinguishes himself.
character_event = {
	id = 261
	desc = EVTDESC261
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_war
	
	hide_from = yes
	
	is_triggered_only = yes
	
	trigger = {
		is_alive = yes
	}
	
	weight_multiplier = {
		days = 1
		modifier = {
			factor = 1.5
			OR = {
				trait = patient
				trait = patient_hidden
			}
		}		
		modifier = {
			factor = 1.5
			OR = {
				trait = just
				trait = just_hidden
			}
		}		
		modifier = {
			factor = 1.5
			OR = {
				trait = diligent
				trait = diligent_hidden
			}
		}		
		modifier = {
			factor = 0.2
			OR = {
				trait = deceitful
				trait = deceitful_hidden
			}
		}		
		modifier = {
			factor = 0.2
			OR = {
				trait = arbitrary
				trait = arbitrary_hidden
			}
		}		
	}

	option = {
		name = EXCELLENT
		create_random_soldier = {
			random_traits = yes
			dynasty = random
			female = no
			religion = ROOT
			culture = ROOT
		}		
	}
}

# Heroism Shown 1
character_event = {
	id = 262
	desc = EVTDESC262
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes

	option = {
		name = EVTOPTA262
		prestige = 100
	}
}

# Heroism Shown 2
character_event = {
	id = 263
	desc = EVTDESC263
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes

	option = {
		name = EVTOPTA262
		prestige = 100
	}
}

# Heroism Shown 3
character_event = {
	id = 264
	desc = EVTDESC264
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes

	option = {
		name = EVTOPTA262
		prestige = 100
	}
}

# Heroism Shown 4
character_event = {
	id = 265
	desc = EVTDESC265
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes

	option = {
		name = EVTOPTA262
		prestige = 100
	}
}

# Heroism Shown 5
character_event = {
	id = 266
	desc = EVTDESC266
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes

	option = {
		name = EVTOPTA262
		prestige = 100
	}
}

# Heroism Shown 6
character_event = {
	id = 267
	desc = EVTDESC267
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes

	option = {
		name = EVTOPTA262
		prestige = 100
	}
}


#On-action battle_lost: Imprisoned by the enemy
character_event = {
	id = 250
	desc = EVTDESC250
	picture = GFX_evt_into_the_dungeon
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes

	trigger = {
		is_alive = yes
		prisoner = no
		NOT = {
			character = FROM
		}
	}
	
	weight_multiplier = {
		days = 1

		modifier = {
			factor = 1.25
			OR = {
				trait = brave
				trait = brave_hidden
			}
		}
		modifier = {
			factor = 0.25
			OR = {
				trait = craven
				trait = craven_hidden
			}
		}
		modifier = {
			factor = 0.25
			OR = {
				trait = paranoid
				trait = paranoid_hidden
			}
		}

		modifier = {
			factor = 1.25
			OR = {
				trait = stressed
				trait = stressed_hidden
			}
		}
		modifier = {
			factor = 1.25
			OR = {
				trait = depressed
				trait = depressed_hidden
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				trait = lunatic
				trait = lunatic_hidden
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				trait = possessed
				trait = possessed_hidden
			}
		}
		modifier = {
			factor = 1.1
			OR = {
				trait = ill
				trait = ill_hidden
			}
		}
		modifier = {
			factor = 1.25
			OR = {
				trait = pneumonic
				trait = pneumonic_hidden
			}
		}
		modifier = {
			factor = 1.25
			OR = {
				trait = syphilitic
				trait = syphilitic_hidden
			}
		}
		modifier = {
			factor = 2.0
			OR = {
				trait = leper
				trait = leper_hidden
			}
		}
		modifier = {
			factor = 1.15
			OR = {
				trait = wounded
				trait = wounded_hidden
			}
		}
		modifier = {
			factor = 1.25
			OR = {
				trait = maimed
				trait = maimed_hidden
			}
		}
		modifier = {
			factor = 2.0
			OR = {
				trait = infirm
				trait = infirm_hidden
			}
		}
		modifier = {
			factor = 3.0
			OR = {
				trait = incapable
				trait = incapable_hidden
			}
		}
		modifier = {
			factor = 1.1
			OR = {
				trait = drunkard
				trait = drunkard_hidden
			}
		}
		modifier = {
			factor = 1.1
			OR = {
				trait = has_tuberculosis
				trait = has_tuberculosis_hidden
			}
		}
		modifier = {
			factor = 1.1
			OR = {
				trait = has_typhoid_fever
				trait = has_typhoid_fever_hidden
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				trait = has_typhus
				trait = has_typhus_hidden
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				trait = has_bubonic_plague
				trait = has_bubonic_plague_hidden
			}
		}
		modifier = {
			factor = 1.1
			OR = {
				trait = has_measles
				trait = has_measles_hidden
			}
		}		
		modifier = {
			factor = 1.1
			OR = {
				trait = has_small_pox
				trait = has_small_pox_hidden
			}
		}
		modifier = {
			factor = 0.5
			tier = duke
		}
		modifier = {
			factor = 0.25
			tier = king
		}
		modifier = {
			factor = 0.125
			tier = emperor
		}
		
	}

	option = {
		name = CURSES
		imprison = FROM
		hidden_tooltip = {
			FROM = {
				character_event = { 
					id = 50020 # imprisoned_events.txt
				}
			}
		}
	}
}

# Leading attacker dies, will never trigger from code
letter_event = {
	id = 251
	is_triggered_only = yes
	border = GFX_event_letter_frame_war
	
	trigger = {
		ai = no
	}

	desc = EVTDESC251

	option = {
		name = OK
	}
}

# Leading defender dies, will never trigger from code
letter_event = {
	id = 252
	desc = EVTDESC251
	border = GFX_event_letter_frame_war
	
	is_triggered_only = yes

	trigger = {
		ai = no
	}
	
	option = {
		name = OK
	}
}

#Marshal: Unnecessary violence
character_event = {
	id = 255
	desc = EVTDESC255
	picture = GFX_evt_torture
	border = GFX_event_normal_frame_war
	
	capable_only = yes
	only_men = yes
	
	is_triggered_only = yes
	
	trigger = {
		war = yes
		in_command = yes
		has_job_title = job_marshal
		OR = {
			trait = cruel
			trait = cruel_hidden
		}
	}
	
	weight_multiplier = {
		days = 1
	}
	
	option = {
		name = EVTOPTA255
		prestige = -20
		piety = -20
		hidden_tooltip = {
			liege = {
				character_event = {
					id = 256
				}
			}
		}
	}
}

#Liege: Marshal used unnecessary violence
character_event = {
	id = 256
	desc = EVTDESC256
	picture = GFX_evt_torture
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes

	option = {
		name = EVTOPTA256 #That's the cruelty of war
		prestige = -5
	}
	option = {
		name = EVTOPTB256 #Disapprove of his conduct
		opinion = {
			modifier = opinion_disapprove
			who = FROM
			years = 5
		}
	}
	option = {
		name = EVTOPTC256 #He's right, we should terrorise our enemy
		opinion = {
			modifier = opinion_approves
			who = FROM
			years = 5
		}
		prestige = -10
		random = {
			chance = 25
			
			if = {
				limit = {
					ai = yes
				}
				hidden_tooltip = {
					add_trait = cruel_hidden
				}
			}
			if = {
				limit = {
					ai = no
				}
				add_trait = cruel
			}
			hidden_tooltip = {
				character_event ={
					id = 38259 #Notify Cruel
				}
			}
		}
	}
}

### Combat Trait Events

# Event 1
character_event = {
	id = 96500
	desc = EVTDESC96500
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	trigger = { 
		can_have_more_leadership_traits = yes
		is_alive = yes
	}
	
	weight_multiplier = {
		days = 1
		modifier = {
			factor = 1.5
			martial = 10
		}
		modifier = {
			factor = 1.5
			martial = 14
		}	
		modifier = {
			factor = 1.5
			OR = {
				trait = brave
				trait = brave_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = craven
				trait = craven_hidden
			}
		}
		modifier = {
			OR = {
				trait = genius
				trait = genius_hidden
			}
			factor = 1.5
		}
		modifier = {
			OR = {
				trait = quick
				trait = quick_hidden
			}
			factor = 1.2
		}	
		modifier = {
			OR = {
				trait = slow
				trait = slow_hidden
			}
			factor = 0.5
		}
		modifier = {
			OR = {
				trait = imbecile
				trait = imbecile_hidden
			}
			factor = 0.1
		}
		modifier = {
			OR = {
				trait = inbred
				trait = inbred_hidden
			}
			factor = 0.7
		}
		modifier = {
			OR = {
				trait = strong
				trait = strong_hidden
			}
			factor = 1.2
		}
		modifier = {
			OR = {
				trait = weak
				trait = weak_hidden
			}
			factor = 0.8
		}		
		modifier = {
			factor = 0.85
			OR = {
				trait = stressed
				trait = stressed_hidden
			}
		}
		modifier = {
			factor = 0.85
			OR = {
				trait = depressed
				trait = depressed_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = lunatic
				trait = lunatic_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = possessed
				trait = possessed_hidden
			}
		}
		modifier = {
			factor = 0.9
			OR = {
				trait = ill
				trait = ill_hidden
			}
		}
		modifier = {
			factor = 0.6
			OR = {
				trait = infirm
				trait = infirm_hidden
			}
		}
		modifier = {
			factor = 0.9
			OR = {
				trait = drunkard
				trait = drunkard_hidden
			}
		}
	}

	option = {
		name = EVTOPTK96500 # Jungle Terrain Specialization
		trigger = {
			location = { terrain = jungle }
			NOT = {
				 OR = {
					trait = jungle_terrain_leader
					trait = jungle_terrain_leader_hidden
				} 
			}
		}
		if = {
			limit = {
				ai = yes
			}
			hidden_tooltip = {
				add_trait = jungle_terrain_leader_hidden
			}
		}
		if = {
			limit = {
				ai = no
			}
			add_trait = jungle_terrain_leader
		}
	}
	option = {
		name = EVTOPTL96500 # War elephants
		trigger = {
			religion_group = indian_group
			NOT = {
				 OR = {
					trait = war_elephant_leader
					trait = war_elephant_leader_hidden
				} 
			}
		}
		if = {
			limit = {
				ai = yes
			}
			hidden_tooltip = {
				add_trait = war_elephant_leader_hidden
			}
		}
		if = {
			limit = {
				ai = no
			}
			add_trait = war_elephant_leader
		}
	}
	option = {
		name = EVTOPTA96500 # Rough Terrain Specialization
		trigger = {
			OR = {
				location = { terrain = forest }
				location = { terrain = hills }
			}
			NOT = { 
				OR = {
					trait = rough_terrain_leader
					trait = rough_terrain_leader_hidden
				}
				OR = {
					trait = flat_terrain_leader
					trait = flat_terrain_leader_hidden
				}
				OR = {
					trait = mountain_terrain_leader
					trait = mountain_terrain_leader_hidden
				}
				OR = {
					trait = desert_terrain_leader
					trait = desert_terrain_leader_hidden
				}
			}
		}
		if = {
			limit = {
				ai = yes
			}
			hidden_tooltip = {
				add_trait = rough_terrain_leader_hidden
			}
		}
		if = {
			limit = {
				ai = no
			}
			add_trait = rough_terrain_leader
		}
	}
	option = {
		name = EVTOPTB96500 # Flat Terrain Specialization
		trigger = {
			OR = {
				location = { terrain = plains }
				location = { terrain = farmlands }
				location = { terrain = steppe }
			}
			NOT = { 
				OR = {
					trait = rough_terrain_leader
					trait = rough_terrain_leader_hidden
				}
				OR = {
					trait = flat_terrain_leader
					trait = flat_terrain_leader_hidden
				}
				OR = {
					trait = mountain_terrain_leader
					trait = mountain_terrain_leader_hidden
				}
				OR = {
					trait = desert_terrain_leader
					trait = desert_terrain_leader_hidden
				}
			}
		}
		if = {
			limit = {
				ai = yes
			}
			hidden_tooltip = {
				add_trait = flat_terrain_leader_hidden
			}
		}
		if = {
			limit = {
				ai = no
			}
			add_trait = flat_terrain_leader
		}
	}
	option = {
		name = EVTOPTC96500 # Mountain Terrain Specialization
		trigger = {
			location = { terrain = mountain }
			NOT = { 
				OR = {
					trait = rough_terrain_leader
					trait = rough_terrain_leader_hidden
				}
				OR = {
					trait = flat_terrain_leader
					trait = flat_terrain_leader_hidden
				}
				OR = {
					trait = mountain_terrain_leader
					trait = mountain_terrain_leader_hidden
				}
				OR = {
					trait = desert_terrain_leader
					trait = desert_terrain_leader_hidden
				}
			}
		}
		if = {
			limit = {
				ai = yes
			}
			hidden_tooltip = {
				add_trait = mountain_terrain_leader_hidden
			}
		}
		if = {
			limit = {
				ai = no
			}
			add_trait = mountain_terrain_leader
		}
	}
	option = {
		name = EVTOPTD96500 # Desert Terrain Leader
		trigger = {
			location = { terrain = desert }
			NOT = { 
				OR = {
					trait = rough_terrain_leader
					trait = rough_terrain_leader_hidden
				}
				OR = {
					trait = flat_terrain_leader
					trait = flat_terrain_leader_hidden
				}
				OR = {
					trait = mountain_terrain_leader
					trait = mountain_terrain_leader_hidden
				}
				OR = {
					trait = desert_terrain_leader
					trait = desert_terrain_leader_hidden
				}
			}
		}
		if = {
			limit = {
				ai = yes
			}
			hidden_tooltip = {
				add_trait = desert_terrain_leader_hidden
			}
		}
		if = {
			limit = {
				ai = no
			}
			add_trait = desert_terrain_leader
		}
	}
	option = {
		name = EVTOPTE96500 # Cavalry
		trigger = {
			NOT = { 
				OR = {
					trait = cavalry_leader
					trait = cavalry_leader_hidden
				}
				OR = {
					trait = heavy_infantry_leader
					trait = heavy_infantry_leader_hidden
				}
				OR = {
					trait = light_foot_leader
					trait = light_foot_leader_hidden
				}
			}
		}
		if = {
			limit = {
				ai = yes
			}
			hidden_tooltip = {
				add_trait = cavalry_leader_hidden
			}
		}
		if = {
			limit = {
				ai = no
			}
			add_trait = cavalry_leader
		}
	}
	option = {
		name = EVTOPTF96500 # Light Infantry
		trigger = {
			NOT = { 
				OR = {
					trait = cavalry_leader
					trait = cavalry_leader_hidden
				}
				OR = {
					trait = heavy_infantry_leader
					trait = heavy_infantry_leader_hidden
				}
				OR = {
					trait = light_foot_leader
					trait = light_foot_leader_hidden
				}
			}
		}
		if = {
			limit = {
				ai = yes
			}
			hidden_tooltip = {
				add_trait = light_foot_leader_hidden
			}
		}
		if = {
			limit = {
				ai = no
			}
			add_trait = light_foot_leader
		}
	}
	option = {
		name = EVTOPTG96500 # Heavy Infantry
		trigger = {
			NOT = { 
				OR = {
					trait = cavalry_leader
					trait = cavalry_leader_hidden
				}
				OR = {
					trait = heavy_infantry_leader
					trait = heavy_infantry_leader_hidden
				}
				OR = {
					trait = light_foot_leader
					trait = light_foot_leader_hidden
				}
			}
		}
		if = {
			limit = {
				ai = yes
			}
			hidden_tooltip = {
				add_trait = heavy_infantry_leader_hidden
			}
		}
		if = {
			limit = {
				ai = no
			}
			add_trait = heavy_infantry_leader
		}
	}
}

# Event 2
character_event = {
	id = 96501
	desc = EVTDESC96500
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	trigger = { 
		can_have_more_leadership_traits = yes
		is_alive = yes
	}
	
	weight_multiplier = {
		days = 1
		modifier = {
			factor = 1.5
			OR = {
				trait = brave
				trait = brave_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = craven
				trait = craven_hidden
			}
		}
		modifier = {
			OR = {
				trait = genius
				trait = genius_hidden
			}
			factor = 1.5
		}
		modifier = {
			OR = {
				trait = quick
				trait = quick_hidden
			}
			factor = 1.2
		}	
		modifier = {
			OR = {
				trait = slow
				trait = slow_hidden
			}
			factor = 0.5
		}
		modifier = {
			OR = {
				trait = imbecile
				trait = imbecile_hidden
			}
			factor = 0.1
		}
		modifier = {
			OR = {
				trait = inbred
				trait = inbred_hidden
			}
			factor = 0.7
		}
		modifier = {
			OR = {
				trait = strong
				trait = strong_hidden
			}
			factor = 1.2
		}
		modifier = {
			OR = {
				trait = weak
				trait = weak_hidden
			}
			factor = 0.8
		}		
		modifier = {
			factor = 0.85
			OR = {
				trait = stressed
				trait = stressed_hidden
			}
		}
		modifier = {
			factor = 0.85
			OR = {
				trait = depressed
				trait = depressed_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = lunatic
				trait = lunatic_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = possessed
				trait = possessed_hidden
			}
		}
		modifier = {
			factor = 0.9
			OR = {
				trait = ill
				trait = ill_hidden
			}
		}
		modifier = {
			factor = 0.6
			OR = {
				trait = infirm
				trait = infirm_hidden
			}
		}
		modifier = {
			factor = 0.9
			OR = {
				trait = drunkard
				trait = drunkard_hidden
			}
		}
	}

	option = { # Organizer
		name = EVTOPTA96502
		trigger = {
			NOT = { 
				OR = {
					trait = organizer
					trait = organizer_hidden
				}
			}
		}
		if = {
			limit = {
				ai = yes
			}
			hidden_tooltip = {
				add_trait = organizer_hidden
			}
		}
		if = {
			limit = {
				ai = no
			}
			add_trait = organizer
		}
	}
	option = { # Experimenter
		name = EVTOPTB96502
		trigger = {
			NOT = { 
				OR = {
					trait = experimenter
					trait = experimenter_hidden
				}
			}
		}
		if = {
			limit = {
				ai = yes
			}
			hidden_tooltip = {
				add_trait = experimenter_hidden
			}
		}
		if = {
			limit = {
				ai = no
			}
			add_trait = experimenter
		}
	}
	option = { # Holy Warrior
		name = EVTOPTC96502
		trigger = {
			OR = {
				trait = zealous
				trait = zealous_hidden
			}
			NOT = { 
				OR = {
					trait = holy_warrior
					trait = holy_warrior_hidden
				}
				OR = {
					trait = cynical
					trait = cynical_hidden
				}
			}
		}
		if = {
			limit = {
				ai = yes
			}
			hidden_tooltip = {
				add_trait = holy_warrior_hidden
			}
		}
		if = {
			limit = {
				ai = no
			}
			add_trait = holy_warrior
		}
	}
	option = { # Unyielding
		name = EVTOPTD96502
		trigger = {
			NOT = { 
				OR = {
					trait = unyielding_leader
					trait = unyielding_leader_hidden
				}
			}
		}
		if = {
			limit = {
				ai = yes
			}
			hidden_tooltip = {
				add_trait = unyielding_leader_hidden
			}
		}
		if = {
			limit = {
				ai = no
			}
			add_trait = unyielding_leader
		}
	}
}

# Event 3
character_event = {
	id = 96502
	desc = EVTDESC96500
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	trigger = { 
		can_have_more_leadership_traits = yes
		is_alive = yes
	}
	
	weight_multiplier = {
		days = 1
		modifier = {
			factor = 1.5
			OR = {
				trait = brave
				trait = brave_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = craven
				trait = craven_hidden
			}
		}
		modifier = {
			OR = {
				trait = genius
				trait = genius_hidden
			}
			factor = 1.5
		}
		modifier = {
			OR = {
				trait = quick
				trait = quick_hidden
			}
			factor = 1.2
		}	
		modifier = {
			OR = {
				trait = slow
				trait = slow_hidden
			}
			factor = 0.5
		}
		modifier = {
			OR = {
				trait = imbecile
				trait = imbecile_hidden
			}
			factor = 0.1
		}
		modifier = {
			OR = {
				trait = inbred
				trait = inbred_hidden
			}
			factor = 0.7
		}
		modifier = {
			OR = {
				trait = strong
				trait = strong_hidden
			}
			factor = 1.2
		}
		modifier = {
			OR = {
				trait = weak
				trait = weak_hidden
			}
			factor = 0.8
		}		
		modifier = {
			factor = 0.85
			OR = {
				trait = stressed
				trait = stressed_hidden
			}
		}
		modifier = {
			factor = 0.85
			OR = {
				trait = depressed
				trait = depressed_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = lunatic
				trait = lunatic_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = possessed
				trait = possessed_hidden
			}
		}
		modifier = {
			factor = 0.9
			OR = {
				trait = ill
				trait = ill_hidden
			}
		}
		modifier = {
			factor = 0.6
			OR = {
				trait = infirm
				trait = infirm_hidden
			}
		}
		modifier = {
			factor = 0.9
			OR = {
				trait = drunkard
				trait = drunkard_hidden
			}
		}
	}
	
	option = {
		name = EVTOPTH96500 # Aggressive
		trigger = {
			NOT = { 
				OR = {
					trait = defensive_leader
					trait = defensive_leader_hidden
				}
				OR = {
					trait = aggressive_leader
					trait = aggressive_leader_hidden
				}
			}
		}
		if = {
			limit = {
				ai = yes
			}
			hidden_tooltip = {
				add_trait = aggressive_leader_hidden
			}
		}
		if = {
			limit = {
				ai = no
			}
			add_trait = aggressive_leader
		}
	}
	option = {
		name = EVTOPTI96500 # Defensive
		trigger = {
			NOT = { 
				OR = {
					trait = defensive_leader
					trait = defensive_leader_hidden
				}
				OR = {
					trait = aggressive_leader
					trait = aggressive_leader_hidden
				}
			}
		}
		if = {
			limit = {
				ai = yes
			}
			hidden_tooltip = {
				add_trait = defensive_leader_hidden
			}
		}
		if = {
			limit = {
				ai = no
			}
			add_trait = defensive_leader
		}
	}
	option = {
		name = EVTOPTJ96500 # Inspiring
		trigger = {
			NOT = { 
				OR = {
					trait = inspiring_leader
					trait = inspiring_leader_hidden
				}
			}
		}
		if = {
			limit = {
				ai = yes
			}
			hidden_tooltip = {
				add_trait = inspiring_leader_hidden
			}
		}
		if = {
			limit = {
				ai = no
			}
			add_trait = inspiring_leader
		}
	}
	option = { # Trickster
		name = EVTOPTH96501
		trigger = {
			NOT = { 
				OR = {
					trait = trickster
					trait = trickster_hidden
				}
			}
		}
		if = {
			limit = {
				ai = yes
			}
			hidden_tooltip = {
				add_trait = trickster_hidden
			}
		}
		if = {
			limit = {
				ai = no
			}
			add_trait = trickster
		}
	}
}

# Event 4
character_event = {
	id = 96503
	desc = EVTDESC96500
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	trigger = { 
		can_have_more_leadership_traits = yes
		is_alive = yes
	}
	
	weight_multiplier = {
		days = 1
		modifier = {
			factor = 1.5
			OR = {
				trait = brave
				trait = brave_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = craven
				trait = craven_hidden
			}
		}
		modifier = {
			OR = {
				trait = genius
				trait = genius_hidden
			}
			factor = 1.5
		}
		modifier = {
			OR = {
				trait = quick
				trait = quick_hidden
			}
			factor = 1.2
		}	
		modifier = {
			OR = {
				trait = slow
				trait = slow_hidden
			}
			factor = 0.5
		}
		modifier = {
			OR = {
				trait = imbecile
				trait = imbecile_hidden
			}
			factor = 0.1
		}
		modifier = {
			OR = {
				trait = inbred
				trait = inbred_hidden
			}
			factor = 0.7
		}
		modifier = {
			OR = {
				trait = strong
				trait = strong_hidden
			}
			factor = 1.2
		}
		modifier = {
			OR = {
				trait = weak
				trait = weak_hidden
			}
			factor = 0.8
		}		
		modifier = {
			factor = 0.85
			OR = {
				trait = stressed
				trait = stressed_hidden
			}
		}
		modifier = {
			factor = 0.85
			OR = {
				trait = depressed
				trait = depressed_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = lunatic
				trait = lunatic_hidden
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				trait = possessed
				trait = possessed_hidden
			}
		}
		modifier = {
			factor = 0.9
			OR = {
				trait = ill
				trait = ill_hidden
			}
		}
		modifier = {
			factor = 0.6
			OR = {
				trait = infirm
				trait = infirm_hidden
			}
		}
		modifier = {
			factor = 0.9
			OR = {
				trait = drunkard
				trait = drunkard_hidden
			}
		}
	}

	option = {
		name = EVTOPTA96500 # Rough Terrain Specialization
		trigger = {
			OR = {
				location = { terrain = forest }
				location = { terrain = hills }
			}
			NOT = { 
				OR = {
					trait = rough_terrain_leader
					trait = rough_terrain_leader_hidden
				}
				OR = {
					trait = flat_terrain_leader
					trait = flat_terrain_leader_hidden
				}
				OR = {
					trait = mountain_terrain_leader
					trait = mountain_terrain_leader_hidden
				}
				OR = {
					trait = desert_terrain_leader
					trait = desert_terrain_leader_hidden
				}
			}
		}
		if = {
			limit = {
				ai = yes
			}
			hidden_tooltip = {
				add_trait = rough_terrain_leader_hidden
			}
		}
		if = {
			limit = {
				ai = no
			}
			add_trait = rough_terrain_leader
		}
	}
	option = {
		name = EVTOPTB96500 # Flat Terrain Specialization
		trigger = {
			OR = {
				location = { terrain = plains }
				location = { terrain = farmlands }
				location = { terrain = steppe }
			}
			NOT = { 
				OR = {
					trait = rough_terrain_leader
					trait = rough_terrain_leader_hidden
				}
				OR = {
					trait = flat_terrain_leader
					trait = flat_terrain_leader_hidden
				}
				OR = {
					trait = mountain_terrain_leader
					trait = mountain_terrain_leader_hidden
				}
				OR = {
					trait = desert_terrain_leader
					trait = desert_terrain_leader_hidden
				}
			}
		}
		if = {
			limit = {
				ai = yes
			}
			hidden_tooltip = {
				add_trait = flat_terrain_leader_hidden
			}
		}
		if = {
			limit = {
				ai = no
			}
			add_trait = flat_terrain_leader
		}
	}
	option = {
		name = EVTOPTC96500 # Mountain Terrain Specialization
		trigger = {
			location = { terrain = mountain }
			NOT = { 
				OR = {
					trait = rough_terrain_leader
					trait = rough_terrain_leader_hidden
				}
				OR = {
					trait = flat_terrain_leader
					trait = flat_terrain_leader_hidden
				}
				OR = {
					trait = mountain_terrain_leader
					trait = mountain_terrain_leader_hidden
				}
				OR = {
					trait = desert_terrain_leader
					trait = desert_terrain_leader_hidden
				}
			}
		}
		if = {
			limit = {
				ai = yes
			}
			hidden_tooltip = {
				add_trait = mountain_terrain_leader_hidden
			}
		}
		if = {
			limit = {
				ai = no
			}
			add_trait = mountain_terrain_leader
		}
	}
	option = {
		name = EVTOPTD96500 # Desert Terrain Leader
		trigger = {
			location = { terrain = desert }
			NOT = { 
				OR = {
					trait = rough_terrain_leader
					trait = rough_terrain_leader_hidden
				}
				OR = {
					trait = flat_terrain_leader
					trait = flat_terrain_leader_hidden
				}
				OR = {
					trait = mountain_terrain_leader
					trait = mountain_terrain_leader_hidden
				}
				OR = {
					trait = desert_terrain_leader
					trait = desert_terrain_leader_hidden
				}
			}
		}
		if = {
			limit = {
				ai = yes
			}
			hidden_tooltip = {
				add_trait = desert_terrain_leader_hidden
			}
		}
		if = {
			limit = {
				ai = no
			}
			add_trait = desert_terrain_leader
		}
	}
	option = { # Flanker
		name = EVTOPTI96501
		trigger = {
			NOT = { 
				OR = {
					trait = flanker
					trait = flanker_hidden
				}
			}
		}
		if = {
			limit = {
				ai = yes
			}
			hidden_tooltip = {
				add_trait = flanker_hidden
			}
		}
		if = {
			limit = {
				ai = no
			}
			add_trait = flanker
		}
	}
	option = { # Narrow flank leader
		name = EVTOPTJ96501
		trigger = {
			OR = {
				location = { terrain = mountain }
				location = { terrain = hills }
				location = { terrain = forest }
			}
			NOT = { 
				OR = {
					trait = narrow_flank_leader
					trait = narrow_flank_leader_hidden
				}
			}
		}
		if = {
			limit = {
				ai = yes
			}
			hidden_tooltip = {
				add_trait = narrow_flank_leader_hidden
			}
		}
		if = {
			limit = {
				ai = no
			}
			add_trait = narrow_flank_leader
		}
	}
	option = { # Siege leader
		name = EVTOPTK96501
		trigger = {
			siege = {
				is_attacker = yes
			}
			NOT = { 
				OR = {
					trait = siege_leader
					trait = siege_leader_hidden
				}
			}
		}
		if = {
			limit = {
				ai = yes
			}
			hidden_tooltip = {
				add_trait = siege_leader_hidden
			}
		}
		if = {
			limit = {
				ai = no
			}
			add_trait = siege_leader
		}
	}
}